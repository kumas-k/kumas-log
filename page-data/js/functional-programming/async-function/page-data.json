{"componentChunkName":"component---src-templates-post-jsx","path":"/js/functional-programming/async-function/","result":{"data":{"site":{"siteMetadata":{"title":"kumas.blog"}},"markdownRemark":{"id":"e60e56c2-f80a-541d-adc6-05e64b202bfe","excerpt":"ë¹„ë™ê¸° ìƒí™©ì´ë€? ë¹„ë™ê¸°ëŠ” ë™ì‹œì— ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ìš”ì²­í•œ ê²°ê³¼ê°€ ë™ì‹œì— ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ì „ì— ì‘ì„±í•œ í•¨ìˆ˜ë“¤ì„ ë¹„ë™ê¸° ìƒí™©ì—ì„œë„ ì˜ ì‘ë™í•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤. ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” go1 ê¸°ì¡´ì˜ ì‘ì„±í•˜ì˜€ë˜ goí•¨ìˆ˜ì— ë¹„ë™ê¸° ìƒí™©ì´ ë°œìƒí•˜ë„ë¡ ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤. ì¤‘ê°„ì˜ ë¹„ë™ê¸° ìƒí™©ì´ ë°œìƒ ì‹œì— ì˜ë„í•˜ì§€ â€¦","html":"<h2>ë¹„ë™ê¸° ìƒí™©ì´ë€?</h2>\n<p>ë¹„ë™ê¸°ëŠ” ë™ì‹œì— ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>\n<p>ë”°ë¼ì„œ ìš”ì²­í•œ ê²°ê³¼ê°€ ë™ì‹œì— ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ì „ì— ì‘ì„±í•œ í•¨ìˆ˜ë“¤ì„ ë¹„ë™ê¸° ìƒí™©ì—ì„œë„ ì˜ ì‘ë™í•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<h2>ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” go1</h2>\n<p>ê¸°ì¡´ì˜ ì‘ì„±í•˜ì˜€ë˜ goí•¨ìˆ˜ì— ë¹„ë™ê¸° ìƒí™©ì´ ë°œìƒí•˜ë„ë¡ ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">go</span><span class=\"token punctuation\">(</span>\n  <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n  <span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\n  console<span class=\"token punctuation\">.</span>log\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [object Promise]1000</span></code></pre></div>\n<p>ì¤‘ê°„ì˜ ë¹„ë™ê¸° ìƒí™©ì´ ë°œìƒ ì‹œì— ì˜ë„í•˜ì§€ ì•Šì€ ì—°ì‚°ìœ¼ë¡œ ê²°ê³¼ ê°’ì´ ì „ë‹¬ë©ë‹ˆë‹¤. go, pipie í•¨ìˆ˜ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ëª¨ë‘ reduce í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— reduce í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•´ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<h3>go1ì„ ì ìš©í•œ reduce</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// fx.js</span>\n\n<span class=\"token comment\">// const reduce = curry((f, acc, iter) => {</span>\n<span class=\"token comment\">//   if (!iter) {</span>\n<span class=\"token comment\">//     iter = acc[Symbol.iterator]();</span>\n<span class=\"token comment\">//     acc = iter.next().value;</span>\n<span class=\"token comment\">//   }</span>\n<span class=\"token comment\">//   for (const a of iter) {</span>\n<span class=\"token comment\">//     acc = f(acc, a);</span>\n<span class=\"token comment\">//   }</span>\n<span class=\"token comment\">//   return acc;</span>\n<span class=\"token comment\">// });</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">go1</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> f</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Promise</span> <span class=\"token operator\">?</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> reduce <span class=\"token operator\">=</span> <span class=\"token function\">curry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">f<span class=\"token punctuation\">,</span> acc<span class=\"token punctuation\">,</span> iter</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>iter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    iter <span class=\"token operator\">=</span> acc<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    acc <span class=\"token operator\">=</span> iter<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    iter <span class=\"token operator\">=</span> acc<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token function\">go1</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token function\">recur</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">acc</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> cur<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>cur <span class=\"token operator\">=</span> iter<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>done<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n      acc <span class=\"token operator\">=</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>acc <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> acc<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>recur<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> acc<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>go1ì´ë¼ëŠ” ë©”ì„œë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. ì´ ë©”ì„œë“œëŠ” instanceofë¥¼ ì´ìš©í•˜ì—¬ ì „ë‹¬ë°›ì€ ê°ì²´ê°€ Promiseì¸ì§€ ì²´í¬í•©ë‹ˆë‹¤. Promiseë¼ë©´ thení•œë’¤ ê°’ì„ ì „ë‹¬í•˜ê³  ì•„ë‹ˆë¼ë©´ ì´ì „ê³¼ ë™ì¼í•˜ê²Œ ì‘ë™í•˜ë„ë¡ í•©ë‹ˆë‹¤.</p>\n<p>ë°˜ë³µë¬¸ìœ¼ë¡œ ì²˜ë¦¬ë˜ë˜ ë¶€ë¶„ì„ ìœ ëª… í•¨ìˆ˜ë¡œ ì„ ì–¸í•˜ì—¬ ë°˜ë³µí•˜ë„ë¡ í•©ë‹ˆë‹¤. ë˜í•œ for... ofì—ì„œ whileìœ¼ë¡œ ë°”ë€Œì—ˆëŠ”ë°, for... ofëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë°˜ë³µì´ ì¢…ë£Œë˜ëŠ” ê²½ìš°ì—ëŠ” ì´í„°ë ˆì´í„°ì˜ ë¦¬í„´ ë©”ì„œë“œë¥¼ ê°•ì œë¡œ ì‹¤í–‰ì‹œì¼œë²„ë¦¬ê¸° ë•Œë¬¸ì— whileì„ ì‚¬ìš©í•˜ì—¬ ë°˜ë³µë¬¸ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>\n<h3>go1ì„ ì ìš©í•œ L.map</h3>\n<p>go1í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ mapí•¨ìˆ˜ë„ ë¹„ë™ê¸° ìƒí™©ì˜ ì½”ë“œë¥¼ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">go</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">[</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  console<span class=\"token punctuation\">.</span>log\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [\"[object Promise]10\", \"[object Promise]10\"]</span></code></pre></div>\n<p>ìš°ë¦¬ê°€ ì˜ˆìƒí•œ ê²°ê³¼ê°’ì€ 11, 12ê°€ ë‚˜ì™€ì•¼í–ˆì—‡ì§€ë§Œ ì—‰ëš±í•œ ê°’ì´ ì¶œë ¥ ë˜ì—ˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì—°ì‚°ì´ ì •ìƒì ìœ¼ë¡œ ë‚˜ì˜¬ìˆ˜ ìˆë„ë¡ í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// fx.js</span>\n\n<span class=\"token constant\">L</span><span class=\"token punctuation\">.</span>map <span class=\"token operator\">=</span> <span class=\"token function\">curry</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">,</span> iter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> a <span class=\"token keyword\">of</span> iter<span class=\"token punctuation\">)</span> <span class=\"token keyword\">yield</span> <span class=\"token function\">go1</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">go</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">[</span>Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  console<span class=\"token punctuation\">.</span>log\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [Promise, Promise]</span></code></pre></div>\n<p>mapí•¨ìˆ˜ë„ go1ì„ ì´ìš©í•˜ì—¬ ë¹„ë™ê¸° ìƒí™©ì—ì„œë„ ì •ìƒì ìœ¼ë¡œ ì—°ì‚°ì´ ë˜ë„ë¡ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì•„ì§ Promiseê°’ì„ ì¶œë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê²°ê´ê°’ì„ ë§Œë“¤ì–´ ë‚´ëŠ” takeí•¨ìˆ˜ë„ reduceí•¨ìˆ˜ì²˜ëŸ¼ ìˆ˜ì •í•´ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// fx.js</span>\n\n<span class=\"token comment\">// const take = curry((l, iter) => {</span>\n<span class=\"token comment\">//   let res = [];</span>\n<span class=\"token comment\">//   for (const a of iter) {</span>\n<span class=\"token comment\">//     res.push(a);</span>\n<span class=\"token comment\">//     if (res.length == l) return res;</span>\n<span class=\"token comment\">//   }</span>\n<span class=\"token comment\">//   return res;</span>\n<span class=\"token comment\">// });</span>\n<span class=\"token keyword\">const</span> take <span class=\"token operator\">=</span> <span class=\"token function\">curry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">l<span class=\"token punctuation\">,</span> iter</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> res <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  iter <span class=\"token operator\">=</span> iter<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">recur</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> cur<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>cur <span class=\"token operator\">=</span> iter<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>done<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          res<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> l <span class=\"token operator\">?</span> res <span class=\"token operator\">:</span> <span class=\"token function\">recur</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      res<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>length <span class=\"token operator\">==</span> l<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>nopì„ ì´ìš©í•´ ë¹„ë™ê¸° ì²˜ë¦¬í•˜ëŠ” L.filter</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">go</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">*</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Promise {&lt;resolved>: 1} ...</span>\n    <span class=\"token keyword\">return</span> a <span class=\"token operator\">%</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  console<span class=\"token punctuation\">.</span>log\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// []</span></code></pre></div>\n<p>ì´ë²ˆì—” filterê¹Œì§€ ë¹„ë™ê¸° ìƒí™©ì„ ì˜ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½í•´ë³´ê² ìŠµë‹ˆë‹¤. ê¸°ì¡´ì˜ í•„í„° í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° ìƒí™©ì„ ì²˜ë¦¬ ëª»í•˜ê¸° ë•Œë¬¸ì— ë¹„ì •ìƒì ì¸ ê°’ì„ ì¶œë ¥í•˜ê¸° ë•Œë¬¸ì— filterí•¨ìˆ˜ë¥¼ ìˆ˜ì •í•˜ì—¬ ë¹„ë™ê¸° ìƒí™©ì„ ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// fx.js</span>\n\n<span class=\"token comment\">// L.filter = curry(function* (f, iter) {</span>\n<span class=\"token comment\">//   for (const a of iter) {</span>\n<span class=\"token comment\">//     if (f(a)) yield a;</span>\n<span class=\"token comment\">//   }</span>\n<span class=\"token comment\">// });</span>\n\n<span class=\"token keyword\">const</span> nop <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nop'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token constant\">L</span><span class=\"token punctuation\">.</span>filter <span class=\"token operator\">=</span> <span class=\"token function\">curry</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">,</span> iter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> a <span class=\"token keyword\">of</span> iter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token function\">go1</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>b <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">yield</span> b<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">b</span> <span class=\"token operator\">=></span> b <span class=\"token operator\">?</span> a <span class=\"token operator\">:</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>nop<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token keyword\">yield</span> a<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> take <span class=\"token operator\">=</span> <span class=\"token function\">curry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">l<span class=\"token punctuation\">,</span> iter</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> res <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  iter <span class=\"token operator\">=</span> iter<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">recur</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> cur<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>cur <span class=\"token operator\">=</span> iter<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>done<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> a\n          <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            res<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> l <span class=\"token operator\">?</span> res <span class=\"token operator\">:</span> <span class=\"token function\">recur</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// nop ì²˜ë¦¬ë¥¼ ìœ„í•´ ì¶”ê°€ëœ ë¶€ë¶„.</span>\n            <span class=\"token keyword\">return</span> e <span class=\"token operator\">==</span> nop <span class=\"token operator\">?</span> <span class=\"token function\">recur</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      res<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>length <span class=\"token operator\">==</span> l<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">go</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">*</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span> <span class=\"token operator\">=></span>  a <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  console<span class=\"token punctuation\">.</span>log\n  <span class=\"token punctuation\">)</span> <span class=\"token comment\">// [1, 9]</span></code></pre></div>\n<p>ê¸°ì¡´ì˜ L.filter í•¨ìˆ˜ëŠ” ì´í„°ë ˆì´í„°ë¥¼ ë°˜ë³µí•˜ë©° í•¨ìˆ˜ ê²°ê´ê°’ì´ trueì¸ì§€ ì²´í¬í•œ ë’¤ ë°˜í™˜í•˜ë„ë¡ ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì „ë‹¬ë°›ì€ í•¨ìˆ˜ê°€ Promiseë¼ë©´ ì •ìƒì ìœ¼ë¡œ ì—°ì‚°ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— go1 í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ì—°ì‚°í•©ë‹ˆë‹¤. ê·¸ ì´í›„ ì—°ì‚°ëœ ê°’ì´ Promise ì¸ì§€ ì²´í¬í•˜ì—¬ ë°˜í™˜í•©ë‹ˆë‹¤.</p>\n<p>í•˜ì§€ë§Œ L.filter í•¨ìˆ˜ì˜ íŠ¹ì„±ìƒ ì¡°ê±´ì— ë§ì§€ ì•ŠëŠ” ê°’ì€ ì „ë‹¬í•˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ”ë°, ê·¸ë ‡ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ nopì´ë¼ëŠ” ì„ì˜ì˜ êµ¬ë¶„ìë¥¼ ìƒì„±í•©ë‹ˆë‹¤. nop êµ¬ë¶„ìëŠ” L.filterì—ì„œ ì „ë‹¬í•˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ” ê°’ì´ë¼ë©´ Promise.rejectì„ ë°˜í™˜í•˜ë©° nop êµ¬ë¶„ìë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤. ê·¸ë ‡ê²Œ ë˜ë©´ ê²°ê³¼ì ìœ¼ë¡œ PromiseëŠ” ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ê¸° ë•Œë¬¸ì— í•´ë‹¹ ê°’ì„ ì „ë‹¬í•˜ì§€ ì•Šê²Œ ë©ë‹ˆë‹¤.</p>\n<p>ê·¸ë ‡ë‹¤ë©´ take í•¨ìˆ˜ì—ì„œ nop êµ¬ë¶„ìë¥¼ ì²˜ë¦¬í•´ ì¤„ ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•©ë‹ˆë‹¤. ê¸°ì¡´ì˜ thení•¨ìˆ˜ì— catch ë¶€ë¶„ì„ ì¶”ê°€í•˜ì—¬ í•´ë‹¹ ì—ëŸ¬ê°€ ì˜ë„í•œ ìƒí™©ì´ë©´ ë‹¤ìŒ ì½”ë“œë“¤ì„ í‰ê°€í•˜ë„ë¡ recur() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  ì‹¤ì œ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤ë©´ ë‹¤ì‹œ reject(e)ì„ í†µí•˜ì—¬ ì—ëŸ¬ë¥¼ ë°œìƒì‹œì¼œ ì¤ë‹ˆë‹¤.</p>\n<h3>nop ì§€ì›í•˜ëŠ” reduce</h3>\n<p>reduce í•¨ìˆ˜ë„ takeí•¨ìˆ˜ì²˜ëŸ¼ nopì„ ì§€ì›í•˜ë„ë¡ ìˆ˜ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">go</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">*</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">%</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  console<span class=\"token punctuation\">.</span>log\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1[object Promise][object Promise][object Promise] Uncaugth (in promise) Symbol(nop)</span></code></pre></div>\n<p>ì¼ë‹¨ ì´ì „ì˜ ìˆ˜ì •í•œ reduceí•¨ìˆ˜ëŠ” ì²« ë²ˆì§¸ ì¸ìê°€ Promiseì¸ì§€ë§Œ ì²´í¬í•´ì„œ ê³„ì‚°í•˜ê¸° ë•Œë¬¸ì— í•´ë‹¹ ë¶€ë¶„ì„ ë§¤ë²ˆ Promiseë¥¼ ì²´í¬í•˜ì—¬ í’€ì–´ì¤„ ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•˜ê³  nopì„ ì˜ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// fx.js</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">reduceF</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">acc<span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">,</span> f</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  a <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Promise</span>\n    <span class=\"token operator\">?</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>\n        <span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>e <span class=\"token operator\">==</span> nop <span class=\"token operator\">?</span> acc <span class=\"token operator\">:</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">:</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> reduce <span class=\"token operator\">=</span> <span class=\"token function\">curry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">f<span class=\"token punctuation\">,</span> acc<span class=\"token punctuation\">,</span> iter</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>iter<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    iter <span class=\"token operator\">=</span> acc<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    acc <span class=\"token operator\">=</span> iter<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    iter <span class=\"token operator\">=</span> acc<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token function\">go1</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token function\">recur</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">acc</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> cur<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>cur <span class=\"token operator\">=</span> iter<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>done<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// const a = cur.value;</span>\n      <span class=\"token comment\">// acc = f(acc, a);</span>\n      acc <span class=\"token operator\">=</span> <span class=\"token function\">reduceF</span><span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> cur<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>acc <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> acc<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>recur<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> acc<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>reduceFë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. ì „ë‹¬ë°›ì€ ê°’ì´ Promiseê°’ì¸ì§€ ì²´í¬í•˜ì—¬ thenìœ¼ë¡œ ì—°ì‚°í•˜ì—¬ í•¨ìˆ˜ë¥¼ ì ìš©ì„ í•´ì£¼ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. ë˜í•œ thenì„ ì²˜ë¦¬í•˜ë©´ì„œ catchë¥¼ í†µí•´ nop êµ¬ë¶„ìë„ ì²˜ë¦¬ë¥¼ í•´ì¤„ ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">go</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">*</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a</span> <span class=\"token operator\">=></span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">%</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  console<span class=\"token punctuation\">.</span>log\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 35</span></code></pre></div>\n<p>ì´ì „ì˜ ì‘ì„±í•œ ì½”ë“œë¥¼ ìƒˆë¡œ ì‹¤í–‰í•´ ë³´ë©´ ì •ìƒì ìœ¼ë¡œ ì˜ ì‘ë™í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2>ì°¸ê³ </h2>\n<ul>\n<li><a href=\"https://www.inflearn.com/course/functional-es6\">í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ê³¼ JavaScript ES6+</a></li>\n</ul>","frontmatter":{"title":"ğŸ™† ë¹„ë™ê¸° ìƒí™©ì—ì„œ ì˜ ì‘ë™í•˜ëŠ” í•¨ìˆ˜","date":"November 08, 2021","update":null,"tags":["javascript","functional"],"series":"í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ê³¼ JavaScript ES6"},"fields":{"slug":"/js/functional-programming/async-function/","readingTime":{"minutes":9.415}}},"seriesList":{"edges":[{"node":{"id":"ddcb5561-8c83-5451-b61f-03fcfadff802","fields":{"slug":"/js/functional-programming/iterator-function/"},"frontmatter":{"title":"âœ¨ï¸ ì´í„°ë ˆì´í„°ë¥¼ ì´ìš©í•œ ë†’ì€ ë‹¤í˜•ì„±ì„ ê°€ì§„ í•¨ìˆ˜"}}},{"node":{"id":"a45e0939-9998-524f-a7a7-dbadfbf5302f","fields":{"slug":"/js/functional-programming/generator-lazy-function/"},"frontmatter":{"title":"ğŸ‘€ ì œë„ˆë ˆì´í„°ë¥¼ ì´ìš©í•˜ì—¬ í•¨ìˆ˜ì˜ ì§€ì—°í‰ê°€"}}},{"node":{"id":"e60e56c2-f80a-541d-adc6-05e64b202bfe","fields":{"slug":"/js/functional-programming/async-function/"},"frontmatter":{"title":"ğŸ™† ë¹„ë™ê¸° ìƒí™©ì—ì„œ ì˜ ì‘ë™í•˜ëŠ” í•¨ìˆ˜"}}},{"node":{"id":"3211077e-4f16-5cf4-b89b-52741bcfbd8c","fields":{"slug":"/js/functional-programming/concurrency-function/"},"frontmatter":{"title":"âœ¨ ì§€ì—°ëœ í‰ê°€ë¥¼ ë³‘ë ¬ì ìœ¼ë¡œ í‰ê°€í•˜ê¸°"}}}]},"previous":{"fields":{"slug":"/js/async-promise/"},"frontmatter":{"title":"ğŸ’¥ ë¹„ë™ê¸°ë¥¼ ê°’ìœ¼ë¡œ ë‹¤ë£¨ëŠ” Promise"}},"next":{"fields":{"slug":"/etc/create-hexo-blog/"},"frontmatter":{"title":"ğŸ”¨ Hexoë¥¼ ì´ìš©í•˜ì—¬ ê¹ƒí—ˆë¸Œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°"}}},"pageContext":{"id":"e60e56c2-f80a-541d-adc6-05e64b202bfe","series":"í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ê³¼ JavaScript ES6","previousPostId":"54eb89e7-6b88-57fa-a7a6-187627f33e8f","nextPostId":"c37febd6-a0b3-54f5-9ed5-ca7c89e3798e"}},"staticQueryHashes":[]}